"use strict";(globalThis.webpackChunkgoose=globalThis.webpackChunkgoose||[]).push([[843],{17218:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/tutorial-using-subagents-ef265627024db73e73d80e5799ed0c1a.png"},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>o});var t=s(96540);const r={},i=t.createContext(r);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},51587:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorials/subagents","title":"Using Subagents","description":"Spin up a team of subagents to build a fully functional app","source":"@site/docs/tutorials/subagents.md","sourceDirName":"tutorials","slug":"/tutorials/subagents","permalink":"/goose/docs/tutorials/subagents","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Using Subagents","description":"Spin up a team of subagents to build a fully functional app","image":"/assets/images/tutorial-using-subagents-ef265627024db73e73d80e5799ed0c1a.png"},"sidebar":"tutorialSidebar","previous":{"title":"Research \u2192 Plan \u2192 Implement Pattern","permalink":"/goose/docs/tutorials/rpi"},"next":{"title":"Subrecipes In Parallel","permalink":"/goose/docs/tutorials/subrecipes-in-parallel"}}');var r=s(74848),i=s(28453);const l={title:"Using Subagents",description:"Spin up a team of subagents to build a fully functional app",image:"/assets/images/tutorial-using-subagents-ef265627024db73e73d80e5799ed0c1a.png"},o=void 0,a={},d=[{value:"Setup",id:"setup",level:2},{value:"Tasks",id:"tasks",level:2},{value:"1. \ud83e\udde0 Planner",id:"1--planner",level:3},{value:"2. \ud83d\udccb Project Manager",id:"2--project-manager",level:3},{value:"3. \ud83c\udfd7\ufe0f Architect",id:"3-\ufe0f-architect",level:3},{value:"4. \ud83d\udcbb Frontend + Backend Developers (Parallel)",id:"4--frontend--backend-developers-parallel",level:3},{value:"5. \ud83e\uddea\ud83d\udcdd QA + Tech Writer (Parallel)",id:"5--qa--tech-writer-parallel",level:3},{value:"QA Agent Tasks:",id:"qa-agent-tasks",level:4},{value:"Tech Writer Tasks:",id:"tech-writer-tasks",level:4},{value:"Test Your Completed App",id:"test-your-completed-app",level:2},{value:"Step 1: Install Dependencies",id:"step-1-install-dependencies",level:3},{value:"Step 2: Start the Server",id:"step-2-start-the-server",level:3},{value:"Step 3: Open the App",id:"step-3-open-the-app",level:3},{value:"Step 4: Test It",id:"step-4-test-it",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Cannot POST /api/briefing (404 Error)",id:"cannot-post-apibriefing-404-error",level:3},{value:"Unexpected token",id:"unexpected-token",level:3},{value:"Process Timeout",id:"process-timeout",level:3},{value:"JSON Parsing Errors",id:"json-parsing-errors",level:3},{value:"Port Already in Use (EADDRINUSE)",id:"port-already-in-use-eaddrinuse",level:3},{value:"App Shows Blank Page",id:"app-shows-blank-page",level:3}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{display:"none"},children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:s(17218).A+"",width:"1200",height:"600"})})}),"\n",(0,r.jsxs)(n.p,{children:["This tutorial walks you through how to spin up a team of AI ",(0,r.jsx)(n.a,{href:"/docs/guides/subagents/",children:"subagents"})," and guide them through building a fully functional app."]}),"\n",(0,r.jsxs)(n.p,{children:["You'll build ",(0,r.jsx)(n.strong,{children:"AI BriefMe"}),", an app that generates a structured executive style briefing based on any topic."]}),"\n",(0,r.jsx)(n.p,{children:"You'll use goose to orchestrate a full software team of subagents:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\ud83e\udde0 ",(0,r.jsx)(n.strong,{children:"Planner"})," \u2013 defines the product and MVP scope"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udccb ",(0,r.jsx)(n.strong,{children:"Project Manager"})," \u2013 breaks down tasks and coordinates execution"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83c\udfd7\ufe0f ",(0,r.jsx)(n.strong,{children:"Architect"})," \u2013 sets up the project structure and tech stack"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udcbb ",(0,r.jsx)(n.strong,{children:"Frontend and Backend Devs"})," \u2013 build the interface and API logic"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83e\uddea ",(0,r.jsx)(n.strong,{children:"QA"})," \u2013 writes tests and flags bugs or production blockers"]}),"\n",(0,r.jsxs)(n.li,{children:["\ud83d\udcdd ",(0,r.jsx)(n.strong,{children:"Tech Writer"})," \u2013 documents setup, usage, and API details"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"By the end of the session, you'll have a working prototype and a clear understanding of how to use AI agents for realistic workflows."}),"\n",(0,r.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/getting-started/installation",children:"Install goose"})}),"\n",(0,r.jsx)(n.li,{children:"Within goose, choose your working directory. It's recommended to work in a newly created directory."}),"\n",(0,r.jsxs)(n.li,{children:["Add the following to ",(0,r.jsx)(n.a,{href:"/docs/guides/context-engineering/using-goosehints/#local-hints-file",children:".goosehints"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"Create apps in html, javascript, and css when possible.\nNEVER run blocking server commands (node server.js, npm start, etc.) - provide commands for user to run separately.\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["(Optional) Install the ",(0,r.jsx)(n.a,{href:"/docs/mcp/goose-docs-mcp",children:"goose docs extension"})," in case you need to ask goose about itself"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tasks",children:"Tasks"}),"\n",(0,r.jsx)(n.p,{children:"You'll be building an AI-powered briefing app by spinning up a team of subagents to help you. Each agent has a clear role. Your job is to figure out how to prompt goose to delegate the work."}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\ud83d\udedf If you get stuck, you can peek to the prompts for examples."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"1--planner",children:"1. \ud83e\udde0 Planner"}),"\n",(0,r.jsx)(n.p,{children:"Have the Planner define the product vision and scope. The Planner should decide:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"What the app is"}),"\n",(0,r.jsx)(n.li,{children:"Who it's for"}),"\n",(0,r.jsx)(n.li,{children:"What problem it solves"}),"\n",(0,r.jsx)(n.li,{children:"The core features for the MVP"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This output should be a clear product definition, not code."}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Planner Agent Prompt"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:"You're the Planner agent for a hands-on AI app building session using goose and subagents. We are building the MVP *right now*.\n\nThe app is called **AI BriefMe**. It generates a daily briefing on any given topic. A user inputs a topic like \u201cApple earnings\u201d or \u201cAI in DevOps,\u201d and the app returns:\n- A title\n- Today's date\n- 2\u20133 bullet-point takeaways\n- (Optional) a code snippet or chart, if the topic is technical\n\nYou're working with a team of subagents \u2014 PM, Architect, Frontend Dev, Backend Dev, QA, and Tech Writer \u2014 who will immediately begin executing your plan.\n\nWrite a short, focused **Markdown file (`plan.md`)** that outlines:\n- The goals of the MVP\n- Only the features that can be built in a 40 minute session\n- Any helpful design considerations\n\n\u2705 DO: Keep it lean and actionable  \n\u274c DON'T: Include long-term features like email delivery, user accounts, dashboards, analytics, personalization, mobile optimization, or 8-week timelines\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2--project-manager",children:"2. \ud83d\udccb Project Manager"}),"\n",(0,r.jsx)(n.p,{children:"Ask the Project Manager to break the product down into development tasks. The output should:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Define which roles are needed (e.g. frontend, backend)"}),"\n",(0,r.jsx)(n.li,{children:"List the specific tasks and assign them"}),"\n",(0,r.jsx)(n.li,{children:"Indicate which tasks can happen in parallel vs sequentially"}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"PM Agent Prompt"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:'You\'re the PM agent. A Planner has just created `plan.md` for a 1-hour build session of an app called "AI BriefMe."\n\nYour job is to:\n- Break the work into tasks for each subagent: Architect, Backend Dev, Frontend Dev, QA, Tech Writer\n- Group tasks by agent\n- Decide what work can be done in parallel vs what must be sequential\n- Output the task breakdown in Markdown and save it as `project_board.md`\n\nBe realistic and concise \u2014 this is a sprint, not a roadmap.\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-\ufe0f-architect",children:"3. \ud83c\udfd7\ufe0f Architect"}),"\n",(0,r.jsx)(n.p,{children:"Have the Architect plan the technical setup. They should:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Choose the stack (frontend + backend frameworks, any libraries)"}),"\n",(0,r.jsx)(n.li,{children:"Describe folder structure and file organization"}),"\n",(0,r.jsx)(n.li,{children:"Flag anything you'll need to install (and optionally provide install commands)"}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Architect Agent Prompt"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:"You are the Architect. Based on the project plan and `project_board.md`, set up the project scaffolding.\n\nDo the following:\n- Create the folder structure and all placeholder files (e.g. `index.html`, `server.js`, `style.css`, etc.)\n- Generate a `package.json` file that includes `express`, `cors`, and `child_process` as dependencies\n- Add a `.gitignore` that excludes `node_modules` and any temporary files\n- Define the API contract for the `/api/briefing` endpoint in Markdown\n\n\u2705 Do NOT include or reference any API keys  \n\u2705 Do NOT install packages \u2014 just scaffold the structure  \n\u2705 DO list the output files and folders at the end\n\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4--frontend--backend-developers-parallel",children:"4. \ud83d\udcbb Frontend + Backend Developers (Parallel)"}),"\n",(0,r.jsx)(n.p,{children:"Spin up two developer subagents in parallel to build the core app. One will handle the Express server and backend logic, the other will build the UI and wire up the form. goose should execute both agents at the same time, not one after the other."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the file structure and API contract from the Architect"}),"\n",(0,r.jsx)(n.li,{children:"Backend writes the API logic using Headless goose"}),"\n",(0,r.jsx)(n.li,{children:"Frontend builds a responsive UI that hits the API"}),"\n",(0,r.jsx)(n.li,{children:"Make sure agents avoid writing to the same files"}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Dev Agents Prompt"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:'Use **parallel execution** to run two subagents:\n\n- A \ud83d\udee0\ufe0f Backend Developer\n- A \ud83d\udcbb Frontend Developer\n\nBoth should work simultaneously \u2014 not sequentially \u2014 to build the AI BriefMe MVP.\n\n\ud83d\udee0\ufe0f **Backend Developer** should:\n- Implement `server.js` with Express\n- Add POST `/api/briefing` endpoint accepting `{ "topic": "string" }`\n- Use **Headless goose** to generate the summary:\n  - `goose run -t "YOUR_PROMPT_HERE" --quiet --no-session --max-turns 1`\n- Use `child_process.spawn()` instead of `exec()`\n- Clean response: remove ANSI codes, markdown blocks, and extract JSON\n- Handle timeouts (max 60s) and errors\n- Serve frontend files from `express.static`\n- Add CORS\n- Do not require any API keys\n\n\ud83d\udcbb **Frontend Developer** should:\n- Create `index.html`, `style.css`, and `script.js`\n- Build a form for entering a topic\n- Call the `/api/briefing` endpoint and display the result\n- Handle loading states and errors\n- Include a copy-to-clipboard button\n- Make it mobile-friendly\n- Do not interfere with backend files\n\n\u26a0\ufe0f Important: These agents must not write to the same files. Keep their work isolated.\n\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"5--qa--tech-writer-parallel",children:"5. \ud83e\uddea\ud83d\udcdd QA + Tech Writer (Parallel)"}),"\n",(0,r.jsxs)(n.p,{children:["Now that development is done, spin up two final subagents: a ",(0,r.jsx)(n.strong,{children:"QA Engineer"})," and a ",(0,r.jsx)(n.strong,{children:"Tech Writer"}),". They'll work together to assess the app's quality and document how to use it. Your job is to prompt goose in a way that gets both agents to collaborate without overlapping or duplicating work."]}),"\n",(0,r.jsx)(n.h4,{id:"qa-agent-tasks",children:"QA Agent Tasks:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Write a unit test suite for the ",(0,r.jsx)(n.code,{children:"/api/briefing"})," endpoint using a framework like Jest"]}),"\n",(0,r.jsxs)(n.li,{children:["Create a ",(0,r.jsx)(n.code,{children:"QA_NOTES.md"})," file:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Flag bugs or edge cases"}),"\n",(0,r.jsx)(n.li,{children:"Identify production-readiness blockers (e.g. security, error handling)"}),"\n",(0,r.jsx)(n.li,{children:"Recommend next steps to improve reliability"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"tech-writer-tasks",children:"Tech Writer Tasks:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Collaborate with QA to understand the current state of the app"}),"\n",(0,r.jsxs)(n.li,{children:["Create a ",(0,r.jsx)(n.code,{children:"README.md"})," file with:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"What the app does (in plain language)"}),"\n",(0,r.jsx)(n.li,{children:"How to install and run it"}),"\n",(0,r.jsx)(n.li,{children:"Example API usage"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u26a0\ufe0f Important:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QA should not start the server manually"})," \u2014 just write test files and mock interactions"]}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"QA Agent + \ud83d\udcdd Tech Writer Agent Prompt (Parallel)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-md",children:'The development phase is complete. Now it\'s time for quality assurance and documentation.\n\nUse **parallel execution** to run two subagents simultaneously:\n\n- \ud83e\uddea A **QA Agent** who will:\n  - Write a unit test for the `/api/briefing` endpoint in `tests/briefing.test.js` using Jest\n  - **Mock the child_process module** using `jest.mock(\'child_process\')` at the top of the test file\n  - Create a simple mock that returns fake data instead of calling the real goose CLI\n  - Assert that the response includes: `title`, `date`, and 2\u20133 `takeaways`\n  - Include tests for:\n    - Valid topic input\n    - Missing or invalid input\n    - goose CLI timeout or error\n  - **Do not start or run the server manually.** Only write test files.\n  - **Do not execute `npm test` or run any tests.** Only create the test file.\n  - Save a full QA analysis report in `QA_NOTES.md` with:\n    - Critical issues\n    - Security or performance gaps\n    - Recommendations for production readiness\n  - **When all files are created, immediately state: "QA Agent Sign-off: \u2705 COMPLETE" and finish.**\n\n- \ud83d\udcdd A **Tech Writer Agent** who will:\n  - Create a `README.md` that includes:\n    - Project overview\n    - How to run the app locally\n    - API endpoint documentation\n    - Example request/response\n    - Troubleshooting section\n  - **When documentation is complete, immediately state: "Tech Writer Sign-off: \u2705 COMPLETE" and finish.**\n\nBoth agents should work in parallel, not sequentially.\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"test-your-completed-app",children:"Test Your Completed App"}),"\n",(0,r.jsx)(n.p,{children:"Once all agents complete their work, you should have a working prototype. Here's how to see it in action:"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-install-dependencies",children:"Step 1: Install Dependencies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd your-project-folder\nnpm install\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-2-start-the-server",children:"Step 2: Start the Server"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important"}),": Run this in a ",(0,r.jsx)(n.strong,{children:"separate terminal window"})," (not in goose):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm start\n"})}),"\n",(0,r.jsx)(n.p,{children:"You should see:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"AI BriefMe server running on port 3000\nHealth check: http://localhost:3000/health\nBriefing endpoint: http://localhost:3000/api/briefing\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-open-the-app",children:"Step 3: Open the App"}),"\n",(0,r.jsx)(n.p,{children:"Open your browser and go to:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"http://localhost:3000/\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": Use the root URL (",(0,r.jsx)(n.code,{children:"/"}),"), not ",(0,r.jsx)(n.code,{children:"/ai-briefme/"})]}),"\n",(0,r.jsx)(n.h3,{id:"step-4-test-it",children:"Step 4: Test It"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'Enter a topic like "JavaScript frameworks" or "climate change"'}),"\n",(0,r.jsx)(n.li,{children:'Click "Get Briefing"'}),"\n",(0,r.jsx)(n.li,{children:"Watch the AI generate your briefing!"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You should see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A clean, responsive interface"}),"\n",(0,r.jsx)(n.li,{children:"AI-generated briefings with title, date, and takeaways"}),"\n",(0,r.jsx)(n.li,{children:"Code examples for technical topics"}),"\n",(0,r.jsx)(n.li,{children:"Copy-to-clipboard functionality"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Keep the Server Running",type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Don't close the terminal"})," where the server is running"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Don't run the server in goose"})," - it will get stuck"]}),"\n",(0,r.jsxs)(n.li,{children:["If you need to stop it: Press ",(0,r.jsx)(n.code,{children:"Ctrl+C"})," in the server terminal"]}),"\n",(0,r.jsx)(n.li,{children:"If you need goose to fix or add something, let it know! Once it's done, restart the server"}),"\n"]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Congratulations! You've built a full-stack AI app using goose subagents!"})," \ud83c\udf89"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Don't expect your app to be production ready. This workshop shows how vibe coding with goose can accelerate prototyping, but the human still owns the judgment and polish."})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"cannot-post-apibriefing-404-error",children:"Cannot POST /api/briefing (404 Error)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Route not registered or server not restarted\n",(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Stop your server"})," (Ctrl+C in terminal)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Restart the server"}),": ",(0,r.jsx)(n.code,{children:"node server.js"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test with curl"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/api/briefing -H "Content-Type: application/json" -d \'{"topic":"test"}\'\n'})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Should return JSON, not HTML"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"unexpected-token",children:"Unexpected token"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": Frontend receiving HTML instead of JSON (usually a 404 page)\n",(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"First, test the API directly"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:3000/api/briefing -H "Content-Type: application/json" -d \'{"topic":"test"}\'\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"If you get HTML back"}),": Your API route isn't working (see Issue 1)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"If you get JSON back"}),": Check browser Network tab to see what URL the frontend is actually calling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Common fix"}),": Make sure you're accessing the app at ",(0,r.jsx)(n.code,{children:"http://localhost:3000/"})," not ",(0,r.jsx)(n.code,{children:"/ai-briefme/"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"process-timeout",children:"Process Timeout"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": goose taking too long or hanging\n",(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check your goose command flags"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"['run', '-t', prompt, '--quiet', '--no-session', '--max-turns', '1']\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test goose manually"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'goose run -t "Return JSON: {\\"test\\": \\"value\\"}" --quiet --no-session --max-turns 1\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"If manual test works"}),": Check your spawn() implementation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"If manual test hangs"}),": Try a simpler prompt first"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"json-parsing-errors",children:"JSON Parsing Errors"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Cause"}),": goose returns formatted output with color codes\n",(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add this cleaning code"})," before JSON.parse():","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Remove ANSI color codes\njsonString = jsonString.replace(/\\x1b\\[[0-9;]*m/g, '');\n// Remove markdown formatting\njsonString = jsonString.replace(/```json\\s*/, '').replace(/```\\s*$/, '');\njsonString = jsonString.replace(/```\\s*/, '');\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add debug logging"})," to see what you're getting:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"console.log('Raw goose response:', aiResponse);\nconsole.log('Cleaned JSON string:', jsonString);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"port-already-in-use-eaddrinuse",children:"Port Already in Use (EADDRINUSE)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Find what's using port 3000"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"lsof -ti:3000\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kill the process"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"lsof -ti:3000 | xargs kill -9\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Or use a different port"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const PORT = process.env.PORT || 3001;\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"app-shows-blank-page",children:"App Shows Blank Page"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check you're at the right URL"}),": ",(0,r.jsx)(n.code,{children:"http://localhost:3000/"})," (not ",(0,r.jsx)(n.code,{children:"/ai-briefme/"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check browser console"})," for JavaScript errors"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Verify static files are served"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"app.use(express.static(__dirname));\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test individual files"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"http://localhost:3000/index.html"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"http://localhost:3000/style.css"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"http://localhost:3000/script.js"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);