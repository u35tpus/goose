<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/ralph-loop" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Ralph Loop | goose</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://block.github.io/goose/img/home-banner.png"><meta data-rh="true" name="twitter:image" content="https://block.github.io/goose/img/home-banner.png"><meta data-rh="true" property="og:url" content="https://block.github.io/goose/docs/tutorials/ralph-loop"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ralph Loop | goose"><meta data-rh="true" name="description" content="Run goose in a loop with fresh context per iteration and cross-model review"><meta data-rh="true" property="og:description" content="Run goose in a loop with fresh context per iteration and cross-model review"><link data-rh="true" rel="icon" href="/goose/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://block.github.io/goose/docs/tutorials/ralph-loop"><link data-rh="true" rel="alternate" href="https://block.github.io/goose/docs/tutorials/ralph-loop" hreflang="en"><link data-rh="true" rel="alternate" href="https://block.github.io/goose/docs/tutorials/ralph-loop" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorials","item":"https://block.github.io/goose/docs/category/tutorials"},{"@type":"ListItem","position":2,"name":"Ralph Loop","item":"https://block.github.io/goose/docs/tutorials/ralph-loop"}]}</script><link rel="alternate" type="application/rss+xml" href="/goose/blog/rss.xml" title="goose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/goose/blog/atom.xml" title="goose Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZS5D6SB4ZJ"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZS5D6SB4ZJ",{anonymize_ip:!0})</script>









<link rel="alternate" type="text/plain" title="LLM context" href="/goose/llms.txt"><link rel="stylesheet" href="/goose/assets/css/styles.85445723.css">
<script src="/goose/assets/js/runtime~main.c5eece97.js" defer="defer"></script>
<script src="/goose/assets/js/main.d7d3f295.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/goose/img/logo_light.png"><link rel="preload" as="image" href="/goose/img/logo_dark.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/goose/"><div class="navbar__logo"><img src="/goose/img/logo_light.png" alt="Block Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/goose/img/logo_dark.png" alt="Block Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/goose/docs/quickstart">Quickstart</a><a class="navbar__item navbar__link" href="/goose/docs/category/guides">Docs</a><a class="navbar__item navbar__link" href="/goose/docs/category/tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/goose/docs/category/mcp-servers">MCPs</a><a class="navbar__item navbar__link" href="/goose/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/goose/extensions">Extensions</a></li><li><a class="dropdown__link" href="/goose/skills">Skills Marketplace</a></li><li><a class="dropdown__link" href="/goose/recipe-generator">Recipe Generator</a></li><li><a class="dropdown__link" href="/goose/prompt-library">Prompt Library</a></li><li><a class="dropdown__link" href="/goose/recipes">Recipe Cookbook</a></li><li><a class="dropdown__link" href="/goose/deeplink-generator">Deeplink Generator</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://discord.gg/goose-oss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/block/goose" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div id="inkeep"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/goose/docs/quickstart"><span title="Quickstart" class="linkLabel_WmDU">Quickstart</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/category/getting-started"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/category/guides"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/goose/docs/category/tutorials"><span title="Tutorials" class="categoryLinkLabel_W154">Tutorials</span></a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/advanced-cognee-usage"><span title="Advanced Cognee Usage with goose" class="linkLabel_WmDU">Advanced Cognee Usage with goose</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/benchmarking"><span title="Benchmark with goose" class="linkLabel_WmDU">Benchmark with goose</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/building-mcp-apps"><span title="Building MCP Apps" class="linkLabel_WmDU">Building MCP Apps</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/cicd"><span title="CI/CD Environments" class="linkLabel_WmDU">CI/CD Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/custom-extensions"><span title="Building Custom Extensions" class="linkLabel_WmDU">Building Custom Extensions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/goose-in-docker"><span title="goose in Docker" class="linkLabel_WmDU">goose in Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/headless-goose"><span title="Using goose in Headless Mode for Automation" class="linkLabel_WmDU">Using goose in Headless Mode for Automation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/isolated-development-environments"><span title="Isolated Development Environments" class="linkLabel_WmDU">Isolated Development Environments</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/laminar"><span title="Observability with Laminar" class="linkLabel_WmDU">Observability with Laminar</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/langfuse"><span title="Observability with Langfuse" class="linkLabel_WmDU">Observability with Langfuse</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/lead-worker"><span title="Lead/Worker Multi-Model Setup" class="linkLabel_WmDU">Lead/Worker Multi-Model Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/plan-feature-devcontainer-setup"><span title="Planning Complex Tasks" class="linkLabel_WmDU">Planning Complex Tasks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/goose/docs/tutorials/ralph-loop"><span title="Ralph Loop" class="linkLabel_WmDU">Ralph Loop</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/recipes-tutorial"><span title="Recipes" class="linkLabel_WmDU">Recipes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/remotion-video-creation"><span title="Create Videos with Remotion Skills" class="linkLabel_WmDU">Create Videos with Remotion Skills</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/rpi"><span title="Research → Plan → Implement Pattern" class="linkLabel_WmDU">Research → Plan → Implement Pattern</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/subagents"><span title="Using Subagents" class="linkLabel_WmDU">Using Subagents</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/goose/docs/tutorials/subrecipes-in-parallel"><span title="Subrecipes In Parallel" class="linkLabel_WmDU">Subrecipes In Parallel</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/category/mcp-servers"><span title="MCP Servers" class="categoryLinkLabel_W154">MCP Servers</span></a><button aria-label="Expand sidebar category &#x27;MCP Servers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/category/architecture-overview"><span title="Architecture Overview" class="categoryLinkLabel_W154">Architecture Overview</span></a><button aria-label="Expand sidebar category &#x27;Architecture Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/experimental/"><span title="Experimental" class="categoryLinkLabel_W154">Experimental</span></a><button aria-label="Expand sidebar category &#x27;Experimental&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/goose/docs/troubleshooting/"><span title="Troubleshooting" class="categoryLinkLabel_W154">Troubleshooting</span></a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col col--9"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/goose/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/goose/docs/category/tutorials"><span>Tutorials</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Ralph Loop</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header class="flex justify-between items-start mb-4 flex-col md:flex-row gap-2 md:gap-0"><h1 class="m-0 flex-1">Ralph Loop</h1><div class="relative inline-flex"><div class="flex items-center bg-black dark:bg-white rounded-md"><div class="[&amp;&gt;button]:rounded-r-none"><button class="flex items-center gap-1.5 px-3 py-1.5 bg-black dark:bg-white text-white dark:text-black rounded-md text-sm font-medium transition-all duration-200 ease-in-out hover:opacity-90 hover:-translate-y-px focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:ring-offset-2 active:translate-y-px disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:opacity-60 disabled:hover:translate-y-0" aria-label="Copy page to clipboard" type="button" disabled=""><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy flex-shrink-0" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>Copy page</button></div><div class="w-px h-4 bg-gray-700 dark:bg-gray-300"></div><button class="px-2 py-1.5 bg-black dark:bg-white text-white dark:text-black rounded-l-none rounded-r-md text-sm font-medium transition-all duration-200 ease-in-out hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:ring-offset-2 flex items-center justify-center" aria-label="More page actions" aria-expanded="false" aria-haspopup="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down transition-transform duration-200"><path d="m6 9 6 6 6-6"></path></svg></button></div></div></header><p>Ralph Loop, based on <a href="https://ghuntley.com/ralph/" target="_blank" rel="noopener noreferrer" class="">Geoffrey Huntley&#x27;s Ralph Wiggum technique</a>, is an iterative development pattern that keeps goose working on a task until it&#x27;s genuinely complete.</p>
<p>Standard agent loops suffer from context accumulation. Every failed attempt stays in the conversation history, which means that after a few iterations, the model must process a long history of noise before it can focus on the task. Ralph Loop solves this by starting each iteration with fresh context, the core insight behind Geoffrey&#x27;s approach. This implementation extends the technique with cross-model review: one model does the work, a different model reviews it, and the loop continues until the task is ready to ship.</p>
<p>After each iteration, the worker and reviewer models store a summary and feedback in files. These files persist between iterations but the conversation history does not. This allows a new session to start where the next model reads the files to pick up exactly where the last iteration left off.</p>
<p>In this tutorial, we&#x27;ll use Ralph Loop to build a simple Electron-based browser and see how the iteration cycle catches missing features before shipping.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h3>
<ul>
<li class=""><a class="" href="/goose/docs/getting-started/installation">Install the goose CLI</a> because the Ralph Loop runs via the terminal.</li>
<li class=""><a class="" href="/goose/docs/getting-started/providers">Configure two models</a> to serve as the worker and reviewer. Using different models is recommended for higher quality reviews, though the loop still works if you use the same model for both roles.</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Download the Ralph Loop Recipes</summary><div><div class="collapsibleContent_i85q"><p>Copy and paste this in your terminal to download the Ralph Loop recipes:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/.config/goose/recipes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -sL https://raw.githubusercontent.com/block/goose/main/documentation/src/pages/recipes/data/recipes/ralph-loop.sh -o ~/.config/goose/recipes/ralph-loop.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -sL https://raw.githubusercontent.com/block/goose/main/documentation/src/pages/recipes/data/recipes/ralph-work.yaml -o ~/.config/goose/recipes/ralph-work.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -sL https://raw.githubusercontent.com/block/goose/main/documentation/src/pages/recipes/data/recipes/ralph-review.yaml -o ~/.config/goose/recipes/ralph-review.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x ~/.config/goose/recipes/ralph-loop.sh</span><br></span></code></pre></div></div></div></div></details>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Cost Warning</div><div class="admonitionContent_BuS1"><p>Ralph Loop runs your agent multiple times in a loop (up to 10 iterations by default). Monitor your usage and adjust <code>RALPH_MAX_ITERATIONS</code> if needed.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-start-the-loop">Step 1: Start the Loop<a href="#step-1-start-the-loop" class="hash-link" aria-label="Direct link to Step 1: Start the Loop" title="Direct link to Step 1: Start the Loop" translate="no">​</a></h3>
<p>To start the process, run the script from your terminal and provide your prompt in quotes. This command triggers the first iteration of the worker and reviewer cycle:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/.config/goose/recipes/ralph-loop.sh &quot;Create a simple browser using Electron and React&quot;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>For Complex Tasks</div><div class="admonitionContent_BuS1"><p>You can pass a file path instead of a string. This works well for PRDs, detailed specs, or any multi-step task that benefits from iterative development:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">~/.config/goose/recipes/ralph-loop.sh ./prd.md</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-configure-models">Step 2: Configure Models<a href="#step-2-configure-models" class="hash-link" aria-label="Direct link to Step 2: Configure Models" title="Direct link to Step 2: Configure Models" translate="no">​</a></h3>
<p>The script will ask you to set your environment variables for the session:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Worker model [gpt-4o]: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Worker provider [openai]: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reviewer model (should be different from worker): claude-sonnet-4-20250514</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reviewer provider: anthropic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Max iterations [10]: </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⚠️  Cost Warning: This will run up to 10 iterations, each using both models.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Estimated token usage could be significant depending on your task.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Continue? [y/N]: y</span><br></span></code></pre></div></div>
<table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>Worker model</td><td>The model that does the actual coding work. Defaults to <code>GOOSE_MODEL</code> if set.</td></tr><tr><td>Worker provider</td><td>The provider for the worker model (e.g., <code>openai</code>, <code>anthropic</code>). Defaults to <code>GOOSE_PROVIDER</code> if set.</td></tr><tr><td>Reviewer model</td><td>The model that reviews the work. Should be different from the worker for best results.</td></tr><tr><td>Reviewer provider</td><td>The provider for the reviewer model.</td></tr><tr><td>Max iterations</td><td>How many work/review cycles before giving up. Defaults to 10.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Directly Set Environment Variables</div><div class="admonitionContent_BuS1"><p>You can skip the interactive prompts by setting environment variables directly</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RALPH_WORKER_MODEL=&quot;gpt-4o&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RALPH_WORKER_PROVIDER=&quot;openai&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RALPH_REVIEWER_MODEL=&quot;claude-sonnet-4-20250514&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RALPH_REVIEWER_PROVIDER=&quot;anthropic&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">~/.config/goose/recipes/ralph-loop.sh &quot;Create a simple browser using Electron and React&quot;</span><br></span></code></pre></div></div></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-watch-it-run">Step 3: Watch It Run<a href="#step-3-watch-it-run" class="hash-link" aria-label="Direct link to Step 3: Watch It Run" title="Direct link to Step 3: Watch It Run" translate="no">​</a></h3>
<p>The terminal will show goose moving through the worker and reviewer phases. Each iteration starts with a fresh session to keep the context clean. Here&#x27;s what a successful run looks like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">═══════════════════════════════════════════════════════════════</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ralph Loop - Multi-Model Edition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">═══════════════════════════════════════════════════════════════</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Task: Create a simple browser using Electron and React</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Worker: gpt-4o (openai)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Reviewer: claude-sonnet-4-20250514 (anthropic)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Max Iterations: 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">───────────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Iteration 1 / 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">───────────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">▶ WORK PHASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (goose creates initial implementation) ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">▶ REVIEW PHASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (goose reviews the work) ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">↻ REVISE - Feedback for next iteration:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Missing error handling for invalid URLs. Also needs back/forward navigation buttons.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">───────────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Iteration 2 / 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">───────────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">▶ WORK PHASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (goose addresses feedback) ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">▶ REVIEW PHASE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... (goose reviews again) ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">═══════════════════════════════════════════════════════════════</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ✓ SHIPPED after 2 iteration(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">═══════════════════════════════════════════════════════════════</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Iteration 1:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WORK PHASE  → Model A does work, writes to files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  REVIEW PHASE → Model B reviews the work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → SHIP? Exit successfully ✓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → REVISE? Write feedback, continue to iteration 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Iteration 2:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WORK PHASE  → Model A reads feedback, fixes things (fresh context!)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  REVIEW PHASE → Model B reviews again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → SHIP? Exit successfully ✓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    → REVISE? Continue...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">... repeats until SHIP or max iterations</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="state-files">State Files<a href="#state-files" class="hash-link" aria-label="Direct link to State Files" title="Direct link to State Files" translate="no">​</a></h3>
<p>Ralph Loop uses files in <code>.goose/ralph/</code> to persist state between iterations. This is how the worker knows what to do and the reviewer knows what was done, even though each iteration starts with fresh context.</p>
<table><thead><tr><th>File</th><th>Purpose</th></tr></thead><tbody><tr><td><code>task.md</code></td><td>The task description</td></tr><tr><td><code>iteration.txt</code></td><td>Current iteration number</td></tr><tr><td><code>work-summary.txt</code></td><td>What the worker did this iteration</td></tr><tr><td><code>work-complete.txt</code></td><td>Exists when worker claims done</td></tr><tr><td><code>review-result.txt</code></td><td><code>SHIP</code> or <code>REVISE</code></td></tr><tr><td><code>review-feedback.txt</code></td><td>Feedback for next iteration</td></tr><tr><td><code>.ralph-complete</code></td><td>Created on successful completion</td></tr><tr><td><code>RALPH-BLOCKED.md</code></td><td>Created if worker is stuck</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="recipe-files">Recipe Files<a href="#recipe-files" class="hash-link" aria-label="Direct link to Recipe Files" title="Direct link to Recipe Files" translate="no">​</a></h3>
<p>The Ralph Loop uses three files: a bash script that orchestrates the work/review cycle, a work recipe that tells the worker model how to make progress, and a review recipe that tells the reviewer model how to evaluate the work. Below are the contents of each file. You can <a href="#prerequisites" class="">download</a> them or copy directly from here.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>The Bash Wrapper (<code>ralph-loop.sh</code>)</summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Ralph Loop - Multi-Model Edition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Fresh context per iteration + cross-model review</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Based on Geoffrey Huntley&#x27;s technique</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Usage: ./ralph-loop.sh &quot;your task description here&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#    or: ./ralph-loop.sh /path/to/task.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Environment variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_WORKER_MODEL    - Model for work phase (prompts if not set)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_WORKER_PROVIDER - Provider for work phase (prompts if not set)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_REVIEWER_MODEL  - Model for review phase (prompts if not set)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_REVIEWER_PROVIDER - Provider for review phase (prompts if not set)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_MAX_ITERATIONS  - Max iterations (default: 10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#   RALPH_RECIPE_DIR      - Recipe directory (default: ~/.config/goose/recipes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set -e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INPUT=&quot;$1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RECIPE_DIR=&quot;${RALPH_RECIPE_DIR:-$HOME/.config/goose/recipes}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RED=&#x27;\033[0;31m&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GREEN=&#x27;\033[0;32m&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">YELLOW=&#x27;\033[1;33m&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BLUE=&#x27;\033[0;34m&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NC=&#x27;\033[0m&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -z &quot;$INPUT&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${RED}Error: No task provided${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Usage: $0 \&quot;your task description\&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;   or: $0 /path/to/task.md&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Function to prompt for settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prompt_for_settings() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local default_model=&quot;${GOOSE_MODEL:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    local default_provider=&quot;${GOOSE_PROVIDER:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Worker model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -n &quot;$default_model&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;${BLUE}Worker model${NC} [${default_model}]: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        read -r user_input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WORKER_MODEL=&quot;${user_input:-$default_model}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;${BLUE}Worker model${NC}: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        read -r WORKER_MODEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if [ -z &quot;$WORKER_MODEL&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${RED}Error: Worker model is required${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Worker provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -n &quot;$default_provider&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;${BLUE}Worker provider${NC} [${default_provider}]: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        read -r user_input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WORKER_PROVIDER=&quot;${user_input:-$default_provider}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;${BLUE}Worker provider${NC}: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        read -r WORKER_PROVIDER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if [ -z &quot;$WORKER_PROVIDER&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${RED}Error: Worker provider is required${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Reviewer model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -ne &quot;${BLUE}Reviewer model${NC} (should be different from worker): &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    read -r REVIEWER_MODEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -z &quot;$REVIEWER_MODEL&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}Error: Reviewer model is required${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;The reviewer should be a different model to provide fresh perspective.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Reviewer provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -ne &quot;${BLUE}Reviewer provider${NC}: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    read -r REVIEWER_PROVIDER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -z &quot;$REVIEWER_PROVIDER&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}Error: Reviewer provider is required${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Same model warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ &quot;$WORKER_MODEL&quot; = &quot;$REVIEWER_MODEL&quot; ] &amp;&amp; [ &quot;$WORKER_PROVIDER&quot; = &quot;$REVIEWER_PROVIDER&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${YELLOW}Warning: Worker and reviewer are the same model.${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;For best results, use different models for cross-model review.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -ne &quot;Continue anyway? [y/N]: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        read -r confirm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if [ &quot;$confirm&quot; != &quot;y&quot; ] &amp;&amp; [ &quot;$confirm&quot; != &quot;Y&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Max iterations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -ne &quot;${BLUE}Max iterations${NC} [10]: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    read -r user_input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    MAX_ITERATIONS=&quot;${user_input:-10}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Initialize from environment variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKER_MODEL=&quot;${RALPH_WORKER_MODEL:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKER_PROVIDER=&quot;${RALPH_WORKER_PROVIDER:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REVIEWER_MODEL=&quot;${RALPH_REVIEWER_MODEL:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">REVIEWER_PROVIDER=&quot;${RALPH_REVIEWER_PROVIDER:-}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_ITERATIONS=&quot;${RALPH_MAX_ITERATIONS:-10}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># If any required setting is missing, prompt for all settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -z &quot;$WORKER_MODEL&quot; ] || [ -z &quot;$WORKER_PROVIDER&quot; ] || [ -z &quot;$REVIEWER_MODEL&quot; ] || [ -z &quot;$REVIEWER_PROVIDER&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prompt_for_settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Cost warning and confirmation loop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while true; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${YELLOW}⚠️  Cost Warning:${NC} This will run up to ${MAX_ITERATIONS} iterations, each using both models.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;    Estimated token usage could be significant depending on your task.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -ne &quot;Continue? [y/N]: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    read -r confirm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ &quot;$confirm&quot; = &quot;y&quot; ] || [ &quot;$confirm&quot; = &quot;Y&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prompt_for_settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STATE_DIR=&quot;.goose/ralph&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p &quot;$STATE_DIR&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if [ -f &quot;$INPUT&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cp &quot;$INPUT&quot; &quot;$STATE_DIR/task.md&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${BLUE}Reading task from file: $INPUT${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;$INPUT&quot; &gt; &quot;$STATE_DIR/task.md&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TASK=$(cat &quot;$STATE_DIR/task.md&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f &quot;$STATE_DIR/review-result.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f &quot;$STATE_DIR/review-feedback.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f &quot;$STATE_DIR/work-complete.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -f &quot;$STATE_DIR/work-summary.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;${BLUE}═══════════════════════════════════════════════════════════════${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;${BLUE}  Ralph Loop - Multi-Model Edition${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;${BLUE}═══════════════════════════════════════════════════════════════${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;  Task: ${YELLOW}$TASK${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;  Worker: ${WORKER_MODEL} (${WORKER_PROVIDER})&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;  Reviewer: ${REVIEWER_MODEL} (${REVIEWER_PROVIDER})&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;  Max Iterations: $MAX_ITERATIONS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for i in $(seq 1 &quot;$MAX_ITERATIONS&quot;); do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${BLUE}───────────────────────────────────────────────────────────────${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${BLUE}  Iteration $i / $MAX_ITERATIONS${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${BLUE}───────────────────────────────────────────────────────────────${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;$i&quot; &gt; &quot;$STATE_DIR/iteration.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${YELLOW}▶ WORK PHASE${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GOOSE_PROVIDER=&quot;$WORKER_PROVIDER&quot; GOOSE_MODEL=&quot;$WORKER_MODEL&quot; goose run --recipe &quot;$RECIPE_DIR/ralph-work.yaml&quot; || {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}✗ WORK PHASE FAILED${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -f &quot;$STATE_DIR/RALPH-BLOCKED.md&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}✗ BLOCKED${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cat &quot;$STATE_DIR/RALPH-BLOCKED.md&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo -e &quot;${YELLOW}▶ REVIEW PHASE${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GOOSE_PROVIDER=&quot;$REVIEWER_PROVIDER&quot; GOOSE_MODEL=&quot;$REVIEWER_MODEL&quot; goose run --recipe &quot;$RECIPE_DIR/ralph-review.yaml&quot; || {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}✗ REVIEW PHASE FAILED${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if [ -f &quot;$STATE_DIR/review-result.txt&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RESULT=$(cat &quot;$STATE_DIR/review-result.txt&quot; | tr -d &#x27;[:space:]&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if [ &quot;$RESULT&quot; = &quot;SHIP&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${GREEN}═══════════════════════════════════════════════════════════════${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${GREEN}  ✓ SHIPPED after $i iteration(s)${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${GREEN}═══════════════════════════════════════════════════════════════${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo &quot;COMPLETE: $(date)&quot; &gt; &quot;$STATE_DIR/.ralph-complete&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exit 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            echo -e &quot;${YELLOW}↻ REVISE - Feedback for next iteration:${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if [ -f &quot;$STATE_DIR/review-feedback.txt&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                cat &quot;$STATE_DIR/review-feedback.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo -e &quot;${RED}✗ No review result found${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -f &quot;$STATE_DIR/work-complete.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rm -f &quot;$STATE_DIR/review-result.txt&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo -e &quot;${RED}✗ Max iterations ($MAX_ITERATIONS) reached${NC}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exit 1</span><br></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Work Phase Recipe (<code>ralph-work.yaml</code>)</summary><div><div class="collapsibleContent_i85q"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ralph Work Phase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Single iteration of work </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> fresh context each time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">instructions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  You are in a RALPH LOOP - one iteration of work.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Your work persists through FILES ONLY. You will NOT remember previous iterations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">STATE FILES (in .goose/ralph/)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> task.md = The task you need to accomplish (READ THIS FIRST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> iteration.txt = Current iteration number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt = Feedback from last review (if any)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">complete.txt = Create when task is DONE (reviewer will verify)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">FIRST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Check your state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  1. cat .goose/ralph/task.md (YOUR TASK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2. cat .goose/ralph/iteration.txt 2</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token punctuation" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> echo &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3. cat .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt 2</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  4. ls </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">la to see existing work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">THEN</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Make progress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> If review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt exists</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ADDRESS THAT FEEDBACK FIRST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Read existing code/files before modifying</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Make meaningful incremental progress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Run tests/verification if applicable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">FINALLY</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Signal status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">If task is complete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> echo &quot;done&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">complete.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">Always write a summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> echo &quot;what I did&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">summary.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">prompt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  ## Ralph Work Phase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">Read your task from</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .goose/ralph/task.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">1. Read the task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/task.md`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">2. Check iteration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/iteration.txt 2</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token punctuation" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> echo &quot;1&quot;`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">3. Check for review feedback</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt 2</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/dev/null`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">4. List existing files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `ls </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">la`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  5. Do the work (address feedback if any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> otherwise make progress)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">6. Write summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `echo &quot;summary&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">summary.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">7. If complete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `echo &quot;done&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">complete.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> builtin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> developer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">600</span><br></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Review Phase Recipe (<code>ralph-review.yaml</code>)</summary><div><div class="collapsibleContent_i85q"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ralph Review Phase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cross</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">model review of work </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> returns SHIP or REVISE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">instructions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  You are a CODE REVIEWER in a Ralph Loop.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">Your job</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Review the work done and decide SHIP or REVISE.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  You are a DIFFERENT MODEL than the worker. Your fresh perspective catches mistakes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">STATE FILES (in .goose/ralph/)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> task.md = The original task (READ THIS FIRST)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">summary.txt = What the worker claims to have done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">complete.txt = Exists if worker claims task is complete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">REVIEW CRITERIA</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  1. Does the code/work actually accomplish the task</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2. Does it run without errors</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3. Is it reasonably complete</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> not half</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">done</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  4. Are there obvious bugs or issues</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">BE STRICT but FAIR</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> Don&#x27;t nitpick style if functionality is correct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> DO reject incomplete work</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> DO reject code that doesn&#x27;t run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> DO reject if tests fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">OUTPUT</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">If approved</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> echo &quot;SHIP&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">result.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">If needs work</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;REVISE&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">result.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;specific feedback&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">prompt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">  ## Ralph Review Phase</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">1. Read the task</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/task.md`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">2. Read work summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">summary.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">3. Check if complete</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `cat .goose/ralph/work</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">complete.txt 2</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/dev/null`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  4. Examine the actual files created/modified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  5. Run verification (tests</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> build</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> etc.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">6. Decide</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SHIP or REVISE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">If SHIP</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> `echo &quot;SHIP&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">result.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">If REVISE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    `echo &quot;REVISE&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">result.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    `echo &quot;specific feedback&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> .goose/ralph/review</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">feedback.txt`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">extensions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> builtin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> developer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><br></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-tips">Usage Tips<a href="#usage-tips" class="hash-link" aria-label="Direct link to Usage Tips" title="Direct link to Usage Tips" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-ralph-loop">When to Use Ralph Loop<a href="#when-to-use-ralph-loop" class="hash-link" aria-label="Direct link to When to Use Ralph Loop" title="Direct link to When to Use Ralph Loop" translate="no">​</a></h3>
<p>Ralph Loop works best for:</p>
<ul>
<li class=""><strong>Complex, multi-step tasks</strong> that benefit from iteration</li>
<li class=""><strong>Tasks with clear completion criteria</strong> (tests pass, builds succeed)</li>
<li class=""><strong>Situations where you want quality gates</strong> before shipping</li>
</ul>
<p>It&#x27;s overkill for:</p>
<ul>
<li class="">Simple one-shot tasks</li>
<li class="">Interactive/exploratory work</li>
<li class="">Tasks without verifiable completion criteria</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="resetting">Resetting<a href="#resetting" class="hash-link" aria-label="Direct link to Resetting" title="Direct link to Resetting" translate="no">​</a></h3>
<p>If you want to start a completely new task, or if a previous run got stuck and you want to start over, you can clear the state directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf .goose/ralph</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/goose/docs/tutorials/plan-feature-devcontainer-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Planning Complex Tasks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/goose/docs/tutorials/recipes-tutorial"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Recipes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#step-1-start-the-loop" class="table-of-contents__link toc-highlight">Step 1: Start the Loop</a></li><li><a href="#step-2-configure-models" class="table-of-contents__link toc-highlight">Step 2: Configure Models</a></li><li><a href="#step-3-watch-it-run" class="table-of-contents__link toc-highlight">Step 3: Watch It Run</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a><ul><li><a href="#state-files" class="table-of-contents__link toc-highlight">State Files</a></li><li><a href="#recipe-files" class="table-of-contents__link toc-highlight">Recipe Files</a></li></ul></li><li><a href="#usage-tips" class="table-of-contents__link toc-highlight">Usage Tips</a><ul><li><a href="#when-to-use-ralph-loop" class="table-of-contents__link toc-highlight">When to Use Ralph Loop</a></li><li><a href="#resetting" class="table-of-contents__link toc-highlight">Resetting</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Quick Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/goose/docs/getting-started/installation">Install goose</a></li><li class="footer__item"><a class="footer__link-item" href="/goose/extensions">Extensions</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/goose/community">Spotlight</a></li><li class="footer__item"><a href="https://discord.gg/goose-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@goose-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/goose-oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/goose_oss" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter / X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/opensource.block.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">BlueSky<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://njump.me/opensource@block.xyz" target="_blank" rel="noopener noreferrer" class="footer__link-item">Nostr<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/goose/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/block/goose" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Block, Inc.</div></div></div></footer></div>
<script src="/goose/inkeepChatButton.js" type="module"></script>
<div id="inkeepSearchBar"></div>
<script>(()=>{const e=document.getElementById("inkeepSearchBar");new MutationObserver(t=>{const n=document.getElementById("inkeep");n&&n.appendChild(e)}).observe(document.documentElement,{attributes:!0})})()</script>
<script src="/goose/inkeepSearchBar.js" type="module"></script></body>
</html>